<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Game Event</name>
    <events>
        <include>Holder Event</include>
        <event-block sid="496015629957922">
            <conditions>
                <condition id="-2" name="On start of layout" sid="608303284909210" type="System" />
            </conditions>
            <actions>
                <action behavior="Pin" id="0" name="Pin to object" sid="155416251442888" type="ActnTxt">
                    <param id="0" name="Pin to">Player</param>
                    <param id="1" name="Mode">0</param>
                </action>
                <action id="-4" name="Set position to another object" sid="775773010554805" type="MineTool">
                    <param id="0" name="Object">Player</param>
                    <param id="1" name="Image point (optional)">1</param>
                </action>
                <action behavior="Pin" id="0" name="Pin to object" sid="493304424235701" type="MineTool">
                    <param id="0" name="Pin to">Player</param>
                    <param id="1" name="Mode">0</param>
                </action>
                <action id="3" name="Set at XY" sid="524005212307962" type="DataRsrc">
                    <param id="0" name="X">0</param>
                    <param id="1" name="Y">0</param>
                    <param id="2" name="Value">&quot;Money&quot;</param>
                </action>
                <action id="3" name="Set at XY" sid="115545351824705" type="DataRsrc">
                    <param id="0" name="X">DataRsrc.IndexOf(&quot;Money&quot;)</param>
                    <param id="1" name="Y">1</param>
                    <param id="2" name="Value">100</param>
                </action>
                <action id="3" name="Set at XY" sid="962061861368185" type="DataRsrc">
                    <param id="0" name="X">1</param>
                    <param id="1" name="Y">0</param>
                    <param id="2" name="Value">&quot;Workers&quot;</param>
                </action>
                <action id="3" name="Set at XY" sid="516856708182830" type="DataRsrc">
                    <param id="0" name="X">2</param>
                    <param id="1" name="Y">0</param>
                    <param id="2" name="Value">&quot;IdleWorkers&quot;</param>
                </action>
                <action id="3" name="Set at XY" sid="194541933708757" type="DataRsrc">
                    <param id="0" name="X">3</param>
                    <param id="1" name="Y">0</param>
                    <param id="2" name="Value">&quot;OccupiedWorkers&quot;</param>
                </action>
                <action id="3" name="Set at XY" sid="909879282629123" type="DataRsrc">
                    <param id="0" name="X">DataRsrc.IndexOf(&quot;Workers&quot;)</param>
                    <param id="1" name="Y">1</param>
                    <param id="2" name="Value">10</param>
                </action>
                <action id="3" name="Set at XY" sid="628802337104415" type="DataRsrc">
                    <param id="0" name="X">DataRsrc.IndexOf(&quot;IdleWorkers&quot;)</param>
                    <param id="1" name="Y">1</param>
                    <param id="2" name="Value">10</param>
                </action>
                <action id="3" name="Set at XY" sid="770453862693600" type="DataRsrc">
                    <param id="0" name="X">4</param>
                    <param id="1" name="Y">0</param>
                    <param id="2" name="Value">&quot;Wood&quot;</param>
                </action>
                <action id="3" name="Set at XY" sid="332684537251224" type="DataRsrc">
                    <param id="0" name="X">5</param>
                    <param id="1" name="Y">0</param>
                    <param id="2" name="Value">&quot;Coal&quot;</param>
                </action>
                <action id="3" name="Set at XY" sid="605430956047206" type="DataRsrc">
                    <param id="0" name="X">6</param>
                    <param id="1" name="Y">0</param>
                    <param id="2" name="Value">&quot;Textiles&quot;</param>
                </action>
                <action id="1" name="Request project file" sid="278557364057188" type="AJAX">
                    <param id="0" name="Tag">&quot;BldgData&quot;</param>
                    <param id="1" name="File">bldgData.json</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="474893758748624">
                    <conditions>
                        <condition id="-11" name="For Each" sid="555896201583345" type="System">
                            <param id="0" name="Object">FgObj</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="944272947071677" type="FgObj">
                            <param id="0" name="Object">FgBg</param>
                            <param id="1" name="Layer">&quot;HUD&quot;</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="276278519409559" type="FgObj">
                            <param id="0" name="Object">FgHP</param>
                            <param id="1" name="Layer">&quot;HUD&quot;</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action id="-10" name="Set value" sid="341097979201828" type="FgHP">
                            <param id="0" name="Instance variable">ID</param>
                            <param id="1" name="Value">FgObj.UID</param>
                        </action>
                        <action id="-10" name="Set value" sid="585969171527317" type="FgBg">
                            <param id="0" name="Instance variable">ID</param>
                            <param id="1" name="Value">FgObj.UID</param>
                        </action>
                        <action id="-3" name="Set position" sid="360401135742872" type="FgHP">
                            <param id="0" name="X">FgObj.ImagePointX(2) + 5</param>
                            <param id="1" name="Y">FgObj.ImagePointY(2) + 5</param>
                        </action>
                        <action id="-10" name="Set value" sid="819991082211085" type="FgHP">
                            <param id="0" name="Instance variable">const</param>
                            <param id="1" name="Value">FgObj.Hp</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="693322873072235">
                    <conditions>
                        <condition id="-12" name="Repeat" sid="609693484457076" type="System">
                            <param id="0" name="Count">3</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="271956344963229" type="System">
                            <param id="0" name="Object to create">Mine</param>
                            <param id="1" name="Layer">Tree.LayerName</param>
                            <param id="2" name="X">random(0, 3840)</param>
                            <param id="3" name="Y">Mine.Y</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="383503021080672" type="Mine">
                            <param id="0" name="Object">FgBg</param>
                            <param id="1" name="Layer">&quot;HUD&quot;</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="666215231093196" type="Mine">
                            <param id="0" name="Object">FgHP</param>
                            <param id="1" name="Layer">&quot;HUD&quot;</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action id="-10" name="Set value" sid="834649559656662" type="FgHP">
                            <param id="0" name="Instance variable">ID</param>
                            <param id="1" name="Value">Mine.UID</param>
                        </action>
                        <action id="-10" name="Set value" sid="364414233918068" type="FgBg">
                            <param id="0" name="Instance variable">ID</param>
                            <param id="1" name="Value">Mine.UID</param>
                        </action>
                        <action id="-3" name="Set position" sid="811147956149077" type="FgHP">
                            <param id="0" name="X">Mine.ImagePointX(2) + 5</param>
                            <param id="1" name="Y">Mine.ImagePointY(2) + 5</param>
                        </action>
                        <action id="-10" name="Set value" sid="723716633401751" type="FgHP">
                            <param id="0" name="Instance variable">const</param>
                            <param id="1" name="Value">Mine.Hp</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block disabled="1" sid="132655374009085">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="915148993654367" type="Mine">
                                    <param id="0" name="Object">FgObj</param>
                                </condition>
                                <condition id="-17" name="Pick top/bottom" sid="266418140785553" type="Mine">
                                    <param id="0" name="Which">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="556657253924964" type="Mine" />
                            </actions>
                            <sub-events>
                                <event-block disabled="1" sid="682355631827255">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="941105233288859" type="FgBg">
                                            <param id="0" name="Instance variable">ID</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Mine.UID</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Destroy" sid="720679706619069" type="FgBg" />
                                    </actions>
                                </event-block>
                                <event-block disabled="1" sid="531316658207713">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="364418675165584" type="FgHP">
                                            <param id="0" name="Instance variable">ID</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Mine.UID</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Destroy" sid="423771329129794" type="FgHP" />
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block disabled="1" sid="211676407590302">
                    <conditions>
                        <condition id="-12" name="Repeat" sid="420477415211038" type="System">
                            <param id="0" name="Count">100</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="247787184639738" type="System">
                            <param id="0" name="Object to create">Tree</param>
                            <param id="1" name="Layer">Tree.LayerName</param>
                            <param id="2" name="X">random(0, 3840)</param>
                            <param id="3" name="Y">Tree.Y</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="972973863127313" type="Tree">
                            <param id="0" name="Object">FgBg</param>
                            <param id="1" name="Layer">&quot;HUD&quot;</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="543777857828604" type="Tree">
                            <param id="0" name="Object">FgHP</param>
                            <param id="1" name="Layer">&quot;HUD&quot;</param>
                            <param id="2" name="Image point">2</param>
                        </action>
                        <action id="-10" name="Set value" sid="420847698535796" type="FgHP">
                            <param id="0" name="Instance variable">ID</param>
                            <param id="1" name="Value">Tree.UID</param>
                        </action>
                        <action id="-10" name="Set value" sid="118863395373819" type="FgBg">
                            <param id="0" name="Instance variable">ID</param>
                            <param id="1" name="Value">Tree.UID</param>
                        </action>
                        <action id="-3" name="Set position" sid="407443175786909" type="FgHP">
                            <param id="0" name="X">Tree.ImagePointX(2) + 5</param>
                            <param id="1" name="Y">Tree.ImagePointY(2) + 5</param>
                        </action>
                        <action id="-10" name="Set value" sid="485730059060295" type="FgHP">
                            <param id="0" name="Instance variable">const</param>
                            <param id="1" name="Value">Tree.Hp</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block disabled="1" sid="151712409792647">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="950422748315098" type="Tree">
                                    <param id="0" name="Object">FgObj</param>
                                </condition>
                                <condition id="-17" name="Pick top/bottom" sid="280575196216923" type="Tree">
                                    <param id="0" name="Which">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="166909310106545" type="Tree" />
                            </actions>
                            <sub-events>
                                <event-block disabled="1" sid="181461854347101">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="808364908072205" type="FgBg">
                                            <param id="0" name="Instance variable">ID</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Tree.UID</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Destroy" sid="510027038578667" type="FgBg" />
                                    </actions>
                                </event-block>
                                <event-block disabled="1" sid="576100006965601">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="867134117338048" type="FgHP">
                                            <param id="0" name="Instance variable">ID</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">Tree.UID</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Destroy" sid="850238441087386" type="FgHP" />
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="998041502127138">
            <conditions>
                <condition id="0" name="On completed" sid="375833215808447" type="AJAX">
                    <param id="0" name="Tag">&quot;BldgData&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="11" name="Load" sid="813521053052985" type="DataBldg">
                    <param id="0" name="JSON">AJAX.LastData</param>
                </action>
                <action id="-10" name="Set value" sid="940642971239848" type="BldBldg">
                    <param id="0" name="Instance variable">WoodCost</param>
                    <param id="1" name="Value">int(tokenat(tokenat(DataBldg.At(DataBldg.IndexOf(BldBldg.AnimationName), 1), 1, &quot;,&quot;), 1, &quot;:&quot;))</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="724971856589022" title="Player Controls">
            <sub-events>
                <comment>Player Movement</comment>
                <event-block sid="978496432380749">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="667643198650792" type="Keyboard">
                            <param id="0" name="Key">87</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="833072654963538" type="Player">
                            <param id="0" name="Control">2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="783336495368445">
                    <conditions>
                        <condition id="2" name="Key is down" sid="151895038712038" type="Keyboard">
                            <param id="0" name="Key">65</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="964623437774446" type="Player">
                            <param id="0" name="Control">0</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="689542945722265" type="Player">
                            <param id="0" name="State">0</param>
                        </action>
                        <action behavior="Pin" id="1" name="Unpin" sid="355616039780511" type="MineTool" />
                        <action id="-4" name="Set position to another object" sid="118372842591356" type="MineTool">
                            <param id="0" name="Object">Player</param>
                            <param id="1" name="Image point (optional)">1</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="308415697451166" type="MineTool">
                            <param id="0" name="Pin to">Player</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="898364804096559">
                    <conditions>
                        <condition id="2" name="Key is down" sid="789281697688046" type="Keyboard">
                            <param id="0" name="Key">68</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="912862564370164" type="Player">
                            <param id="0" name="Control">1</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="257934388091115" type="Player">
                            <param id="0" name="State">1</param>
                        </action>
                        <action behavior="Pin" id="1" name="Unpin" sid="513222667217445" type="MineTool" />
                        <action id="-4" name="Set position to another object" sid="889562271280734" type="MineTool">
                            <param id="0" name="Object">Player</param>
                            <param id="1" name="Image point (optional)">1</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="192290351901210" type="MineTool">
                            <param id="0" name="Pin to">Player</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Player Clicking</comment>
                <event-block sid="146949775101490">
                    <conditions>
                        <condition id="0" name="On click" sid="745872466865777" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                            <param id="1" name="Click type">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Timer" id="1" name="Stop timer" sid="853412459766545" type="MineTool">
                            <param id="0" name="Tag">&quot;Hit&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Select a Item to Mine</comment>
                <event-block sid="858500754982254">
                    <conditions>
                        <condition id="6" name="On object clicked" sid="670245674914951" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                            <param id="1" name="Click type">0</param>
                            <param id="2" name="Object clicked">Tree</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Timer" id="0" name="Start timer" sid="850470186059103" type="MineTool">
                            <param id="0" name="Duration">0.5</param>
                            <param id="1" name="Type">1</param>
                            <param id="2" name="Tag">&quot;Hit&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="345066834201447">
                    <conditions>
                        <condition id="6" name="On object clicked" sid="825996289399121" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                            <param id="1" name="Click type">0</param>
                            <param id="2" name="Object clicked">Mine</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Timer" id="0" name="Start timer" sid="502045736009080" type="MineTool">
                            <param id="0" name="Duration">0.5</param>
                            <param id="1" name="Type">1</param>
                            <param id="2" name="Tag">&quot;Hit&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="373802228268024" title="Gathering Resources">
            <sub-events>
                <comment>Enable Tool Collision</comment>
                <event-block sid="442017046866183">
                    <conditions>
                        <condition behavior="Timer" id="0" name="On timer" sid="557149608479897" type="MineTool">
                            <param id="0" name="Tag">&quot;Hit&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="11" name="Set collisions enabled" sid="641571148403528" type="MineTool">
                            <param id="0" name="Collisions">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="892407213075573" type="MineTool">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-16" name="Wait" sid="906913176082192" type="System">
                            <param id="0" name="Seconds">0.01</param>
                        </action>
                        <action id="11" name="Set collisions enabled" sid="443345224560118" type="MineTool">
                            <param id="0" name="Collisions">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="622894339106600" type="MineTool">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Manually Gathering Resources</comment>
                <event-block sid="493543595049197">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="858981865417285" type="MineTool">
                            <param id="0" name="Object">Tree</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="104870232210898" type="Tree">
                            <param id="0" name="Object">GainRsrc</param>
                            <param id="1" name="Layer">&quot;HUD&quot;</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                        <action id="4" name="Set animation" sid="753495737613847" type="GainRsrc">
                            <param id="0" name="Animation">&quot;Wood&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="162816957303590" type="Tree">
                            <param id="0" name="Instance variable">Hp</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="3" name="Set at XY" sid="772369940855315" type="DataRsrc">
                            <param id="0" name="X">DataRsrc.IndexOf(&quot;Wood&quot;)</param>
                            <param id="1" name="Y">1</param>
                            <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;Wood&quot;), 1) + MineTool.GatherRate</param>
                        </action>
                        <action id="0" name="Call function" sid="496729196087328" type="Function">
                            <param id="0" name="Name">&quot;UpdtRsrcAmnt&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="-7" name="Set size" sid="758282364492588" type="Tree">
                            <param id="0" name="Width">Self.Width</param>
                            <param id="1" name="Height">Self.Height + 32</param>
                        </action>
                        <action id="-16" name="Wait" sid="485933268645251" type="System">
                            <param id="0" name="Seconds">0.1</param>
                        </action>
                        <action id="-7" name="Set size" sid="136823757915635" type="Tree">
                            <param id="0" name="Width">Self.Width</param>
                            <param id="1" name="Height">Self.Height - 32</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Results of Chopping</comment>
                        <event-block sid="722649994917431">
                            <conditions>
                                <condition id="-34" name="Pick by evaluate" sid="797251606801228" type="System">
                                    <param id="0" name="Object">FgHP</param>
                                    <param id="1" name="Expression">FgHP.ID = Tree.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Fade" id="0" name="Restart fade" sid="379690040437410" type="FgHP" />
                                <action id="-5" name="Set width" sid="525599072665475" type="FgHP">
                                    <param id="0" name="Width">(Tree.Hp/FgHP.const)*FgBg.Width - 10</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="739181570729323">
                            <conditions>
                                <condition id="-34" name="Pick by evaluate" sid="737548935350010" type="System">
                                    <param id="0" name="Object">FgBg</param>
                                    <param id="1" name="Expression">FgBg.ID = Tree.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Fade" id="0" name="Restart fade" sid="755995462706262" type="FgBg" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="134939135933600">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="624440664556609" type="MineTool">
                            <param id="0" name="Object">Mine</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="831738154920168" type="Mine">
                            <param id="0" name="Object">GainRsrc</param>
                            <param id="1" name="Layer">&quot;HUD&quot;</param>
                            <param id="2" name="Image point">1</param>
                        </action>
                        <action id="4" name="Set animation" sid="463506000527640" type="GainRsrc">
                            <param id="0" name="Animation">&quot;Coal&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="-12" name="Subtract from" sid="663980472702746" type="Mine">
                            <param id="0" name="Instance variable">Hp</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="3" name="Set at XY" sid="652430003307924" type="DataRsrc">
                            <param id="0" name="X">DataRsrc.IndexOf(&quot;Coal&quot;)</param>
                            <param id="1" name="Y">1</param>
                            <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;Coal&quot;), 1) + MineTool.GatherRate</param>
                        </action>
                        <action id="0" name="Call function" sid="708146143261576" type="Function">
                            <param id="0" name="Name">&quot;UpdtRsrcAmnt&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="-7" name="Set size" sid="623166687282527" type="Mine">
                            <param id="0" name="Width">Self.Width</param>
                            <param id="1" name="Height">Self.Height + 32</param>
                        </action>
                        <action id="-16" name="Wait" sid="362512769673468" type="System">
                            <param id="0" name="Seconds">0.1</param>
                        </action>
                        <action id="-7" name="Set size" sid="829505968726366" type="Mine">
                            <param id="0" name="Width">Self.Width</param>
                            <param id="1" name="Height">Self.Height - 32</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Results of Mining</comment>
                        <event-block sid="307950208551310">
                            <conditions>
                                <condition id="-34" name="Pick by evaluate" sid="276207587192872" type="System">
                                    <param id="0" name="Object">FgHP</param>
                                    <param id="1" name="Expression">FgHP.ID = Mine.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Fade" id="0" name="Restart fade" sid="750643933772334" type="FgHP" />
                                <action id="-5" name="Set width" sid="667711584380015" type="FgHP">
                                    <param id="0" name="Width">(Mine.Hp/FgHP.const)*FgBg.Width - 10</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="364853408304123">
                            <conditions>
                                <condition id="-34" name="Pick by evaluate" sid="756271669277409" type="System">
                                    <param id="0" name="Object">FgBg</param>
                                    <param id="1" name="Expression">FgBg.ID = Mine.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Fade" id="0" name="Restart fade" sid="451053475799850" type="FgBg" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Managing Resources Gathering</comment>
                <event-block sid="422444118203827">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="577505404405322" type="Tree">
                            <param id="0" name="Instance variable">Hp</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="11" name="Collisions enabled" sid="175373784207380" type="Tree" />
                        <condition id="-4" name="Trigger once while true" sid="811059895387449" type="System" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="511182207460788" type="Tree">
                            <param id="0" name="Animation">&quot;TreeChopped&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="11" name="Set collisions enabled" sid="586970106070645" type="Tree">
                            <param id="0" name="Collisions">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="334447064111002">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="682304700005648" type="FgBg">
                                    <param id="0" name="Instance variable">ID</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Tree.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="717841636231559" type="FgBg" />
                            </actions>
                        </event-block>
                        <event-block sid="185380124338748">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="164011360497819" type="FgHP">
                                    <param id="0" name="Instance variable">ID</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Tree.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="383995889693712" type="FgHP" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="245598119638998">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="420275883687623" type="Mine">
                            <param id="0" name="Instance variable">Hp</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="11" name="Collisions enabled" sid="300797720147093" type="Mine" />
                        <condition id="-4" name="Trigger once while true" sid="519180498007728" type="System" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="679513684433608" type="Mine">
                            <param id="0" name="Animation">&quot;ExhaustedMine&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="11" name="Set collisions enabled" sid="244322038721002" type="Mine">
                            <param id="0" name="Collisions">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="255710931331372">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="594505541807566" type="FgBg">
                                    <param id="0" name="Instance variable">ID</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Mine.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="107675486384965" type="FgBg" />
                            </actions>
                        </event-block>
                        <event-block sid="651458410979711">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="313928401028937" type="FgHP">
                                    <param id="0" name="Instance variable">ID</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">Mine.UID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="367990940174888" type="FgHP" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="938406018815271" title="Placing and Interacting with Buildings">
            <sub-events>
                <comment>Select a Building to Place</comment>
                <event-block sid="886882621469965">
                    <conditions>
                        <condition id="6" name="On object clicked" sid="910841852659630" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                            <param id="1" name="Click type">0</param>
                            <param id="2" name="Object clicked">BldBldg</param>
                        </condition>
                        <condition disabled="1" id="1" name="Compare at XY" sid="500385982584701" type="DataRsrc">
                            <param id="0" name="X">DataRsrc.IndexOf(&quot;Wood&quot;)</param>
                            <param id="1" name="Y">1</param>
                            <param id="2" name="Comparison">5</param>
                            <param id="3" name="Value">DataBldg.At(0, 0)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="443205621222466" type="Function">
                            <param id="0" name="Name">&quot;Instatiate&quot;</param>
                            <param id="1" name="Parameter {n}">BldBldg.AnimationName</param>
                        </action>
                        <action id="-3" name="Create object" sid="126440516370458" type="System">
                            <param id="0" name="Object to create">Bldg</param>
                            <param id="1" name="Layer">&quot;Fg&quot;</param>
                            <param id="2" name="X">Mouse.X</param>
                            <param id="3" name="Y">Mouse.Y</param>
                        </action>
                        <action id="-10" name="Set value" sid="196444983764860" type="Bldg">
                            <param id="0" name="Instance variable">Name</param>
                            <param id="1" name="Value">tokenat(BldBldg.AnimationName, 0, &quot;_&quot;)</param>
                        </action>
                        <action id="4" name="Set animation" sid="895286284307112" type="Bldg">
                            <param id="0" name="Animation">Bldg.Name</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="-16" name="Set opacity" sid="388530136402599" type="Bldg">
                            <param id="0" name="Opacity">50</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="871644195354866" type="Bldg">
                            <param id="0" name="Instance variable">Built</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Deselect Building to Place</comment>
                <event-block sid="162647291551030">
                    <conditions>
                        <condition id="0" name="On click" sid="245833965618618" type="Mouse">
                            <param id="0" name="Mouse button">2</param>
                            <param id="1" name="Click type">0</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="657058266996295" type="Bldg">
                            <param id="0" name="Instance variable">Built</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="633732106687979" type="Bldg" />
                    </actions>
                </event-block>
                <comment>Set Build Position to Mouse</comment>
                <event-block sid="889713960242034">
                    <conditions>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="169496859779408" type="Bldg">
                            <param id="0" name="Instance variable">Built</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="559857332711944" type="Bldg">
                            <param id="0" name="X">Mouse.X</param>
                            <param id="1" name="Y">Ground.BBoxTop</param>
                        </action>
                    </actions>
                </event-block>
                <comment>If Building is Buildable then Build at that Position</comment>
                <event-block sid="350770174555102">
                    <conditions>
                        <condition id="0" name="On click" sid="674983310291350" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                            <param id="1" name="Click type">0</param>
                        </condition>
                        <condition id="1" inverted="1" name="Is overlapping another object" sid="149320407048857" type="Bldg">
                            <param id="0" name="Object">FgObj</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="202613876415004" type="Bldg">
                            <param id="0" name="Instance variable">Built</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="437176940166036" type="Bldg">
                            <param id="0" name="Opacity">100</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="108422034441050" type="Bldg">
                            <param id="0" name="Instance variable">Built</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="11" name="Set collisions enabled" sid="167773795705369" type="Tree">
                            <param id="0" name="Collisions">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="876222267075506">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="444652473723023" type="Bldg">
                                    <param id="0" name="Object">Tree</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="679446078325996" type="Tree" />
                            </actions>
                        </event-block>
                        <event-block sid="293298437974579">
                            <conditions />
                            <actions>
                                <action id="11" name="Set collisions enabled" sid="318053692014053" type="Bldg">
                                    <param id="0" name="Collisions">0</param>
                                </action>
                                <action id="-16" name="Wait" sid="353367876790467" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action id="11" name="Set collisions enabled" sid="782055885583174" type="Bldg">
                                    <param id="0" name="Collisions">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Display that action can be taken when near building</comment>
                <event-block sid="780049049769936">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="560299640048684" type="Player">
                            <param id="0" name="Object">Bldg</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="614788757373694" type="Bldg">
                            <param id="0" name="Instance variable">Built</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="371586826651797" type="ActnTxt">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="0" name="Set text" sid="296177826682716" type="ActnTxt">
                            <param id="0" name="Text">&quot;Press E to View &quot;&amp;Bldg.Name</param>
                        </action>
                        <action id="-16" name="Wait" sid="600869149154777" type="System">
                            <param id="0" name="Seconds">0.1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Open Window</comment>
                <event-block sid="451682518610264">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="390772320455969" type="Keyboard">
                            <param id="0" name="Key">69</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="818431828135493" type="Player">
                            <param id="0" name="Object">Bldg</param>
                        </condition>
                        <condition id="-9" name="Is visible" sid="738373103892057" type="ActnTxt" />
                    </conditions>
                    <actions>
                        <action id="-16" name="Wait" sid="491444352353797" type="System">
                            <param id="0" name="Seconds">0.1</param>
                        </action>
                        <action id="-13" name="Set boolean" sid="130026777781005" type="Bldg">
                            <param id="0" name="Instance variable">Interacting</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="0" name="Call function" sid="563930245164060" type="Function">
                            <param id="0" name="Name">&quot;Open&quot;&amp;Bldg.Name</param>
                            <param id="1" name="Parameter {n}">Bldg.Name{###}Bldg.IID</param>
                        </action>
                        <action id="0" name="Set text" sid="840550955495701" type="ActnTxt">
                            <param id="0" name="Text">&quot;Press E to View to Exit&quot;</param>
                        </action>
                        <action id="0" name="Set text" sid="464463844374366" type="WorkerCnt">
                            <param id="0" name="Text">Bldg.WorkersAtStation&amp;&quot;/&quot;&amp;Bldg.MaxAmntWorkers</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Close Window</comment>
                <event-block sid="623503576167856">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="161499684632935" type="Keyboard">
                            <param id="0" name="Key">69</param>
                        </condition>
                        <condition id="1" name="Is overlapping another object" sid="453927541970167" type="Player">
                            <param id="0" name="Object">Bldg</param>
                        </condition>
                        <condition id="-9" name="Is visible" sid="982644503583790" type="ActnTxt" />
                        <condition id="0" name="Compare text" sid="968172922531895" type="ActnTxt">
                            <param id="0" name="Text to compare">&quot;Press E to View to Exit&quot;</param>
                            <param id="1" name="Case sensitivity">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Wait" sid="236936662129292" type="System">
                            <param id="0" name="Seconds">0.1</param>
                        </action>
                        <action id="0" name="Call function" sid="358371117878234" type="Function">
                            <param id="0" name="Name">&quot;Close&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="0" name="Set text" sid="170875445133711" type="ActnTxt">
                            <param id="0" name="Text">&quot;Press E to View &quot;&amp;Bldg.Name</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Close Window if Left the Building</comment>
                <event-block sid="140214347405462">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="277714754161172" type="Player">
                            <param id="0" name="Object">Bldg</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="335182235265614" type="Bldg">
                            <param id="0" name="Instance variable">Interacting</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="775557246347575" type="System" />
                    </conditions>
                    <actions>
                        <action id="-16" name="Wait" sid="778774305883226" type="System">
                            <param id="0" name="Seconds">0.1</param>
                        </action>
                        <action id="0" name="Call function" sid="733476935598599" type="Function">
                            <param id="0" name="Name">&quot;Close&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="698331870294907">
                    <conditions>
                        <condition id="1" inverted="1" name="Is overlapping another object" sid="392452769107643" type="Player">
                            <param id="0" name="Object">Bldg</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="354158524685747" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="405778712547932" type="Function">
                            <param id="0" name="Name">&quot;Close&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="-15" name="Set visible" sid="900444533610669" type="ActnTxt">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="594157190282980" title="Market">
            <sub-events>
                <comment>Set Items Price</comment>
                <event-block sid="466937737142830">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="463706378794645" type="ItemBg">
                            <param id="0" name="Object">ItemPrice</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="225993991042172" type="ItemPrice">
                            <param id="0" name="Text">ItemBg.CurPrice</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Check background and overlapping item</comment>
                <event-block sid="384090971889806">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="319630402762143" type="ItemIcon">
                            <param id="0" name="Object">ItemBg</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="529080633457080" type="System" />
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="173854379779895" type="ItemBg">
                            <param id="0" name="Instance variable">Name</param>
                            <param id="1" name="Value">ItemIcon.AnimationName</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Check if you can buy resources</comment>
                <event-block sid="659540225817780">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="959879892742059" type="ItemBg">
                            <param id="0" name="Instance variable">CurPrice</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;Money&quot;), 1)</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="917826327799827" type="ItemBg">
                            <param id="0" name="Instance variable">BuySell</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Buy&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="720824983609700" type="ItemBg">
                            <param id="0" name="Opacity">100</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="167149542554595">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="346245519995435" type="ItemBg">
                            <param id="0" name="Instance variable">CurPrice</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;Money&quot;), 1)</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="571012988906782" type="ItemBg">
                            <param id="0" name="Instance variable">BuySell</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Buy&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="174370081283110" type="ItemBg">
                            <param id="0" name="Opacity">50</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Check if you can sell resources</comment>
                <event-block sid="304947445859512">
                    <conditions>
                        <condition id="-34" name="Pick by evaluate" sid="653472541571581" type="System">
                            <param id="0" name="Object">ItemBg</param>
                            <param id="1" name="Expression">DataRsrc.At(DataRsrc.IndexOf(ItemBg.Name), 1) &gt;= Amount</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="525905251239065" type="ItemBg">
                            <param id="0" name="Instance variable">BuySell</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Sell&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="866629390209415" type="ItemBg">
                            <param id="0" name="Opacity">100</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="689261760453918">
                    <conditions>
                        <condition id="-34" name="Pick by evaluate" sid="534403736009568" type="System">
                            <param id="0" name="Object">ItemBg</param>
                            <param id="1" name="Expression">DataRsrc.At(DataRsrc.IndexOf(ItemBg.Name), 1) &lt; Amount</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="910437461410885" type="ItemBg">
                            <param id="0" name="Instance variable">BuySell</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Sell&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Set opacity" sid="805448053293358" type="ItemBg">
                            <param id="0" name="Opacity">50</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Sell resources</comment>
                <event-block sid="920901973141050">
                    <conditions>
                        <condition id="6" name="On object clicked" sid="497525523820313" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                            <param id="1" name="Click type">0</param>
                            <param id="2" name="Object clicked">ItemBg</param>
                        </condition>
                        <condition id="-34" name="Pick by evaluate" sid="639158357677609" type="System">
                            <param id="0" name="Object">ItemBg</param>
                            <param id="1" name="Expression">DataRsrc.At(DataRsrc.IndexOf(ItemBg.Name), 1) &gt;= Amount</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="875013908623440" type="ItemBg">
                            <param id="0" name="Instance variable">BuySell</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Sell&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="3" name="Set at XY" sid="995420899918452" type="DataRsrc">
                            <param id="0" name="X">DataRsrc.IndexOf(&quot;Money&quot;)</param>
                            <param id="1" name="Y">1</param>
                            <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;Money&quot;), 1) + ItemBg.CurPrice</param>
                        </action>
                        <action id="3" name="Set at XY" sid="660374658681123" type="DataRsrc">
                            <param id="0" name="X">DataRsrc.IndexOf(ItemBg.Name)</param>
                            <param id="1" name="Y">1</param>
                            <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(ItemBg.Name), 1) - Amount</param>
                        </action>
                        <action id="0" name="Call function" sid="926878005699987" type="Function">
                            <param id="0" name="Name">&quot;UpdtRsrcAmnt&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="9" name="Set scale" sid="944351600800863" type="ItemBg">
                            <param id="0" name="Scale">1.1</param>
                        </action>
                        <action id="-16" name="Wait" sid="885912687275593" type="System">
                            <param id="0" name="Seconds">0.1</param>
                        </action>
                        <action id="9" name="Set scale" sid="162188665910793" type="ItemBg">
                            <param id="0" name="Scale">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Buy resources</comment>
                <event-block sid="439148909672813">
                    <conditions>
                        <condition id="6" name="On object clicked" sid="737982096648367" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                            <param id="1" name="Click type">0</param>
                            <param id="2" name="Object clicked">ItemBg</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="837633506332131" type="ItemBg">
                            <param id="0" name="Instance variable">CurPrice</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;Money&quot;), 1)</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="577965469909440" type="ItemBg">
                            <param id="0" name="Instance variable">BuySell</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;Buy&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="3" name="Set at XY" sid="383255438422564" type="DataRsrc">
                            <param id="0" name="X">DataRsrc.IndexOf(&quot;Money&quot;)</param>
                            <param id="1" name="Y">1</param>
                            <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;Money&quot;), 1) - ItemBg.CurPrice</param>
                        </action>
                        <action id="3" name="Set at XY" sid="490442578929893" type="DataRsrc">
                            <param id="0" name="X">DataRsrc.IndexOf(ItemBg.Name)</param>
                            <param id="1" name="Y">1</param>
                            <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(ItemBg.Name), 1) + Amount</param>
                        </action>
                        <action id="0" name="Call function" sid="220410621210483" type="Function">
                            <param id="0" name="Name">&quot;UpdtRsrcAmnt&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="9" name="Set scale" sid="822983825943470" type="ItemBg">
                            <param id="0" name="Scale">1.1</param>
                        </action>
                        <action id="-16" name="Wait" sid="967324442397735" type="System">
                            <param id="0" name="Seconds">0.1</param>
                        </action>
                        <action id="9" name="Set scale" sid="524324067669121" type="ItemBg">
                            <param id="0" name="Scale">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="440496302901424" title="Farm and Factory">
            <sub-events>
                <event-block sid="661974790138920">
                    <conditions>
                        <condition id="6" name="On object clicked" sid="404367251786386" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                            <param id="1" name="Click type">0</param>
                            <param id="2" name="Object clicked">AddWorkers</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment>Adding Workers</comment>
                        <event-block sid="220308262311146">
                            <conditions>
                                <condition id="-34" name="Pick by evaluate" sid="181391619563825" type="System">
                                    <param id="0" name="Object">AddWorkers</param>
                                    <param id="1" name="Expression">AddWorkers.AnimationName = &quot;Add&quot;</param>
                                </condition>
                                <condition id="-34" name="Pick by evaluate" sid="782707119547903" type="System">
                                    <param id="0" name="Object">Bldg</param>
                                    <param id="1" name="Expression">Bldg.Interacting = 1</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="588230174862028" type="Bldg">
                                    <param id="0" name="Instance variable">WorkersAtStation</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Value">Bldg.MaxAmntWorkers</param>
                                </condition>
                                <condition id="1" name="Compare at XY" sid="333870918513117" type="DataRsrc">
                                    <param id="0" name="X">DataRsrc.IndexOf(&quot;IdleWorkers&quot;)</param>
                                    <param id="1" name="Y">1</param>
                                    <param id="2" name="Comparison">4</param>
                                    <param id="3" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-11" name="Add to" sid="238321358048267" type="Bldg">
                                    <param id="0" name="Instance variable">WorkersAtStation</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="0" name="Set text" sid="899420544653251" type="WorkerCnt">
                                    <param id="0" name="Text">Bldg.WorkersAtStation&amp;&quot;/&quot;&amp;Bldg.MaxAmntWorkers</param>
                                </action>
                                <action id="3" name="Set at XY" sid="365529511942375" type="DataRsrc">
                                    <param id="0" name="X">DataRsrc.IndexOf(&quot;IdleWorkers&quot;)</param>
                                    <param id="1" name="Y">1</param>
                                    <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;IdleWorkers&quot;), 1) - 1</param>
                                </action>
                                <action id="3" name="Set at XY" sid="157373812429827" type="DataRsrc">
                                    <param id="0" name="X">DataRsrc.IndexOf(&quot;OccupiedWorkers&quot;)</param>
                                    <param id="1" name="Y">1</param>
                                    <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;OccupiedWorkers&quot;),1) + 1</param>
                                </action>
                                <action id="0" name="Call function" sid="760829945221065" type="Function">
                                    <param id="0" name="Name">&quot;UpdtRsrcAmnt&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="9" name="Set scale" sid="442606913977858" type="AddWorkers">
                                    <param id="0" name="Scale">1.1</param>
                                </action>
                                <action id="-16" name="Wait" sid="643860573522680" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action id="9" name="Set scale" sid="743108419704493" type="AddWorkers">
                                    <param id="0" name="Scale">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Removing Workers</comment>
                        <event-block sid="752372166097918">
                            <conditions>
                                <condition id="-34" name="Pick by evaluate" sid="985395329878394" type="System">
                                    <param id="0" name="Object">AddWorkers</param>
                                    <param id="1" name="Expression">AddWorkers.AnimationName = &quot;Remove&quot;</param>
                                </condition>
                                <condition id="-34" name="Pick by evaluate" sid="941222711961271" type="System">
                                    <param id="0" name="Object">Bldg</param>
                                    <param id="1" name="Expression">Bldg.Interacting = 1</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="113243301784270" type="Bldg">
                                    <param id="0" name="Instance variable">WorkersAtStation</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-12" name="Subtract from" sid="210938911966770" type="Bldg">
                                    <param id="0" name="Instance variable">WorkersAtStation</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="0" name="Set text" sid="364888914084169" type="WorkerCnt">
                                    <param id="0" name="Text">Bldg.WorkersAtStation&amp;&quot;/&quot;&amp;Bldg.MaxAmntWorkers</param>
                                </action>
                                <action id="3" name="Set at XY" sid="138095787139500" type="DataRsrc">
                                    <param id="0" name="X">DataRsrc.IndexOf(&quot;IdleWorkers&quot;)</param>
                                    <param id="1" name="Y">1</param>
                                    <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;IdleWorkers&quot;), 1) + 1</param>
                                </action>
                                <action id="3" name="Set at XY" sid="899426846936107" type="DataRsrc">
                                    <param id="0" name="X">DataRsrc.IndexOf(&quot;OccupiedWorkers&quot;)</param>
                                    <param id="1" name="Y">1</param>
                                    <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;OccupiedWorkers&quot;), 1) - 1</param>
                                </action>
                                <action id="0" name="Call function" sid="609620575943957" type="Function">
                                    <param id="0" name="Name">&quot;UpdtRsrcAmnt&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="9" name="Set scale" sid="361499736146335" type="AddWorkers">
                                    <param id="0" name="Scale">1.1</param>
                                </action>
                                <action id="-16" name="Wait" sid="727860242721341" type="System">
                                    <param id="0" name="Seconds">0.1</param>
                                </action>
                                <action id="9" name="Set scale" sid="421196771444395" type="AddWorkers">
                                    <param id="0" name="Scale">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Worker Producing Goods</comment>
                <event-block sid="127139654364038">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="829449957705617" type="System">
                            <param id="0" name="Interval (seconds)">0.01</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="490293570000509" type="Bldg">
                            <param id="0" name="Instance variable">WorkersAtStation</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="459490376736233" type="Bldg">
                            <param id="0" name="Instance variable">PrdctTimeCnt</param>
                            <param id="1" name="Value">0.5</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="676858261633828">
                            <conditions>
                                <condition id="1" name="Is overlapping another object" sid="632737129624942" type="Player">
                                    <param id="0" name="Object">Bldg</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-5" name="Set width" sid="698522337381782" type="PrdctBar">
                                    <param id="0" name="Width">(Bldg.PrdctTimeCnt/100)*(PrdctBarBg.Width-10)</param>
                                </action>
                                <action id="-5" name="Set width" sid="228806020149334" type="ItemPrdctBar">
                                    <param id="0" name="Width">(Bldg.PrdctTimeCnt/100)*PrdctProd.Width</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="321779127295141">
                            <conditions>
                                <condition id="-22" name="Else" sid="350452194882387" type="System" />
                            </conditions>
                            <actions>
                                <action id="-5" name="Set width" sid="348490849445234" type="PrdctBar">
                                    <param id="0" name="Width">0</param>
                                </action>
                                <action id="-5" name="Set width" sid="615493787482846" type="ItemPrdctBar">
                                    <param id="0" name="Width">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="957399616768152">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="997477827841044" type="Bldg">
                                    <param id="0" name="Instance variable">PrdctTimeCnt</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">100</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="476020268803431" type="System" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="440541841450795" type="Bldg">
                                    <param id="0" name="Instance variable">PrdctTimeCnt</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="3" name="Set at XY" sid="547804694567554" type="DataRsrc">
                                    <param id="0" name="X">DataRsrc.IndexOf(&quot;Textiles&quot;)</param>
                                    <param id="1" name="Y">1</param>
                                    <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;Textiles&quot;), 1) + Bldg.WorkersAtStation</param>
                                </action>
                                <action id="0" name="Call function" sid="914903073840861" type="Function">
                                    <param id="0" name="Name">&quot;UpdtRsrcAmnt&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="0" name="Spawn another object" sid="234403422824210" type="Bldg">
                                    <param id="0" name="Object">GainRsrc</param>
                                    <param id="1" name="Layer">&quot;HUD&quot;</param>
                                    <param id="2" name="Image point">1</param>
                                </action>
                                <action id="4" name="Set animation" sid="582218228921477" type="GainRsrc">
                                    <param id="0" name="Animation">&quot;Textiles&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="143997288194491">
                    <conditions>
                        <condition id="1" name="Is overlapping another object" sid="974363941359761" type="Player">
                            <param id="0" name="Object">Bldg</param>
                        </condition>
                        <condition id="-5" name="Compare width" sid="243030520077970" type="PrdctBar">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Width">PrdctBarBg.Width - 10</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="161756647225167" type="System" />
                    </conditions>
                    <actions>
                        <action id="-5" name="Set width" sid="122418840142155" type="PrdctBar">
                            <param id="0" name="Width">0</param>
                        </action>
                        <action id="-5" name="Set width" sid="896228221962876" type="ItemPrdctBar">
                            <param id="0" name="Width">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="773630274772132" title="Paying Workers">
            <sub-events>
                <variable constant="0" name="AmntToPay" sid="465569728385133" static="1" type="number">0</variable>
                <comment>Visual Timer</comment>
                <event-block sid="185589129527069">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="410155503381276" type="System">
                            <param id="0" name="Interval (seconds)">0.01</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-5" name="Set width" sid="324569547103675" type="PrgsBar">
                            <param id="0" name="Width">Self.Width + 1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="957885645178233">
                    <conditions>
                        <condition id="-5" name="Compare width" sid="605092828010890" type="PrgsBar">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Width">PrgsBarBg.Width - 8</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="844562870570166" type="System" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="674940592525980" type="System">
                            <param id="0" name="Variable">AmntToPay</param>
                            <param id="1" name="Value">2*DataRsrc.At(DataRsrc.IndexOf(&quot;Workers&quot;), 1)</param>
                        </action>
                        <action id="-5" name="Set width" sid="357652746888487" type="PrgsBar">
                            <param id="0" name="Width">0</param>
                        </action>
                        <action id="3" name="Set at XY" sid="818442191370924" type="DataRsrc">
                            <param id="0" name="X">DataRsrc.IndexOf(&quot;Money&quot;)</param>
                            <param id="1" name="Y">1</param>
                            <param id="2" name="Value">DataRsrc.At(DataRsrc.IndexOf(&quot;Money&quot;), 1) - AmntToPay</param>
                        </action>
                        <action id="0" name="Call function" sid="553217831787445" type="Function">
                            <param id="0" name="Name">&quot;UpdtRsrcAmnt&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="-11" name="Add to" sid="229578082108553" type="WeekNum">
                            <param id="0" name="Instance variable">Num</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="0" name="Set text" sid="603861861195033" type="WeekNum">
                            <param id="0" name="Text">&quot;Day &quot;&amp;WeekNum.Num</param>
                        </action>
                        <action id="0" name="Spawn another object" sid="770823792041508" type="GoodBad">
                            <param id="0" name="Object">GainRsrc</param>
                            <param id="1" name="Layer">&quot;UI&quot;</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="4" name="Set animation" sid="523284612028688" type="GainRsrc">
                            <param id="0" name="Animation">&quot;Money&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="0" name="Set text" sid="508757920648285" type="PayAmount">
                            <param id="0" name="Text">&quot;Pay: &quot;&amp;AmntToPay</param>
                        </action>
                        <action id="0" name="Call function" sid="996112121645549" type="Function">
                            <param id="0" name="Name">&quot;Lose&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" disabled="1" sid="495953561611917" title="Win and Lose the Game">
            <sub-events>
                <comment>No Money Left to Pay Workers</comment>
                <event-block disabled="1" sid="843656225296889">
                    <conditions>
                        <condition id="0" name="On function" sid="109245063849355" type="Function">
                            <param id="0" name="Name">&quot;Lose&quot;</param>
                        </condition>
                        <condition id="1" name="Compare at XY" sid="620031797708887" type="DataRsrc">
                            <param id="0" name="X">DataRsrc.IndexOf(&quot;Money&quot;)</param>
                            <param id="1" name="Y">1</param>
                            <param id="2" name="Comparison">3</param>
                            <param id="3" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="605480491051357" type="WinLoseTxt">
                            <param id="0" name="X">672</param>
                            <param id="1" name="Y">416</param>
                        </action>
                        <action id="0" name="Set text" sid="981491552561976" type="WinLoseTxt">
                            <param id="0" name="Text">&quot;You Ran out Of Money to Pay Your Workers&quot;</param>
                        </action>
                        <action id="-13" name="Set time scale" sid="571035161627025" type="System">
                            <param id="0" name="Time scale">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="652914481316078">
            <conditions>
                <condition id="0" name="On function" sid="906231924500790" type="Function">
                    <param id="0" name="Name">&quot;Instatiate&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="3" name="Clear" sid="453538864812446" type="DataSort" />
            </actions>
            <sub-events>
                <event-block sid="721030684976713">
                    <conditions>
                        <condition id="-10" name="For" sid="580947920717665" type="System">
                            <param id="0" name="Name">&quot;&quot;</param>
                            <param id="1" name="Start index">0</param>
                            <param id="2" name="End index">tokencount(DataBldg.At(DataBldg.IndexOf(Function.Param(0)), 1), &quot;,&quot;) - 1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Add key" sid="880020087014859" type="DataSort">
                            <param id="0" name="Key">tokenat(tokenat(DataBldg.At(DataBldg.IndexOf(Function.Param(0)), 1), loopindex, &quot;,&quot;), 0, &quot;:&quot;)</param>
                            <param id="1" name="Value">tokenat(tokenat(DataBldg.At(DataBldg.IndexOf(Function.Param(0)), 1), loopindex, &quot;,&quot;), 1, &quot;:&quot;)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
    </events>
</c2eventsheet>
